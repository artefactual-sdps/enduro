openapi: 3.0.3
info:
    title: Enduro API
    version: 0.0.1
servers:
    - url: http://localhost:9000
paths:
    /about:
        get:
            tags:
                - about
            summary: about about
            description: Get information about the system
            operationId: about#about
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroAbout'
                            example:
                                poststorage:
                                    - task_queue: abc123
                                      workflow_name: abc123
                                preprocessing:
                                    enabled: false
                                    task_queue: abc123
                                    workflow_name: abc123
                                preservation_system: abc123
                                upload_max_size: 1
                                version: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization: []
    /ingest/batches:
        get:
            tags:
                - ingest
            summary: list_batches ingest
            description: List all ingested Batches
            operationId: ingest#list_batches
            parameters:
                - name: identifier
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
                - name: earliest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: latest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: processing
                    enum:
                        - queued
                        - processing
                        - pending
                        - ingested
                        - canceled
                        - failed
                  example: processing
                - name: uploader_uuid
                  in: query
                  description: UUID of the Batch uploader
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: UUID of the Batch uploader
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: limit
                  in: query
                  description: Limit number of results to return
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Limit number of results to return
                    example: 1
                    format: int64
                  example: 1
                - name: offset
                  in: query
                  description: Offset from the beginning of the found set
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Offset from the beginning of the found set
                    example: 1
                    format: int64
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroIngestBatches'
                            example:
                                items:
                                    - completed_at: "1970-01-01T00:00:01Z"
                                      created_at: "1970-01-01T00:00:01Z"
                                      identifier: abc123
                                      sips_count: 1
                                      started_at: "1970-01-01T00:00:01Z"
                                      status: processing
                                      uploader_email: abc123
                                      uploader_name: abc123
                                      uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                page:
                                    limit: 1
                                    offset: 1
                                    total: 1
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "501":
                    description: 'not_implemented: Not Implemented response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:batches:list
        post:
            tags:
                - ingest
            summary: add_batch ingest
            description: Ingest a Batch from a SIP Source
            operationId: ingest#add_batch
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AddBatchRequestBody'
                        example:
                            identifier: abc123
                            keys:
                                - abc123
                            source_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "201":
                    description: Created response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AddSipResponseBody'
                            example:
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "501":
                    description: 'not_implemented: Not Implemented response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:batches:create
    /ingest/batches/{uuid}:
        get:
            tags:
                - ingest
            summary: show_batch ingest
            description: Show Batch by UUID
            operationId: ingest#show_batch
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of Batch to show
                  required: true
                  schema:
                    type: string
                    description: Identifier of Batch to show
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroIngestBatch'
                            example:
                                completed_at: "1970-01-01T00:00:01Z"
                                created_at: "1970-01-01T00:00:01Z"
                                identifier: abc123
                                sips_count: 1
                                started_at: "1970-01-01T00:00:01Z"
                                status: processing
                                uploader_email: abc123
                                uploader_name: abc123
                                uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: Batch not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "501":
                    description: 'not_implemented: Not Implemented response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:batches:read
    /ingest/monitor:
        get:
            tags:
                - ingest
            summary: monitor ingest
            description: Obtain access to the /monitor WebSocket
            operationId: ingest#monitor
            parameters:
                - name: enduro-ingest-ws-ticket
                  in: cookie
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
            responses:
                "101":
                    description: Switching Protocols response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/IngestEvent2'
                            example:
                                value:
                                    Type: sip_created_event
                                    Value: '{"item":{"aip_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","batch_identifier":"abc123","batch_status":"processing","batch_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","completed_at":"1970-01-01T00:00:01Z","created_at":"1970-01-01T00:00:01Z","failed_as":"PIP","failed_key":"abc123","name":"abc123","started_at":"1970-01-01T00:00:01Z","status":"failed","uploader_email":"abc123","uploader_name":"abc123","uploader_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
        post:
            tags:
                - ingest
            summary: monitor_request ingest
            description: Request access to the /monitor WebSocket
            operationId: ingest#monitor_request
            responses:
                "200":
                    description: OK response.
                    headers:
                        Set-Cookie:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization: []
    /ingest/sip-sources/{uuid}/objects:
        get:
            tags:
                - ingest
            summary: list_sip_source_objects ingest
            description: List the objects in a SIP source
            operationId: ingest#list_sip_source_objects
            parameters:
                - name: limit
                  in: query
                  description: Limit the number of results to return
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Limit the number of results to return
                    example: 1
                    format: int64
                  example: 1
                - name: cursor
                  in: query
                  description: Cursor token to get subsequent pages
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Cursor token to get subsequent pages
                    example: abc123
                  example: abc123
                - name: uuid
                  in: path
                  description: SIP source identifier -- CURRENTLY NOT USED
                  required: true
                  schema:
                    type: string
                    description: SIP source identifier -- CURRENTLY NOT USED
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroIngestSipsourceObjects'
                            example:
                                limit: 1
                                next: abc123
                                objects:
                                    - is_dir: false
                                      key: abc123
                                      mod_time: "1970-01-01T00:00:01Z"
                                      size: 1
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: Not Found response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sipsources:objects:list
    /ingest/sips:
        get:
            tags:
                - ingest
            summary: list_sips ingest
            description: List all ingested SIPs
            operationId: ingest#list_sips
            parameters:
                - name: name
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
                - name: aip_uuid
                  in: query
                  description: Identifier of AIP
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: earliest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: latest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: failed
                    enum:
                        - error
                        - failed
                        - queued
                        - processing
                        - pending
                        - ingested
                        - validated
                        - canceled
                  example: failed
                - name: uploader_uuid
                  in: query
                  description: UUID of the SIP uploader
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: UUID of the SIP uploader
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: batch_uuid
                  in: query
                  description: UUID of the related Batch
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: UUID of the related Batch
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: limit
                  in: query
                  description: Limit number of results to return
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Limit number of results to return
                    example: 1
                    format: int64
                  example: 1
                - name: offset
                  in: query
                  description: Offset from the beginning of the found set
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Offset from the beginning of the found set
                    example: 1
                    format: int64
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroIngestSips'
                            example:
                                items:
                                    - aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      batch_identifier: abc123
                                      batch_status: processing
                                      batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      completed_at: "1970-01-01T00:00:01Z"
                                      created_at: "1970-01-01T00:00:01Z"
                                      failed_as: PIP
                                      failed_key: abc123
                                      name: abc123
                                      started_at: "1970-01-01T00:00:01Z"
                                      status: failed
                                      uploader_email: abc123
                                      uploader_name: abc123
                                      uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                page:
                                    limit: 1
                                    offset: 1
                                    total: 1
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - ingest:sips:list
        post:
            tags:
                - ingest
            summary: add_sip ingest
            description: Ingest a SIP from a SIP Source
            operationId: ingest#add_sip
            parameters:
                - name: source_id
                  in: query
                  description: Identifier of SIP source -- CURRENTLY NOT USED
                  allowEmptyValue: true
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP source -- CURRENTLY NOT USED
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: key
                  in: query
                  description: Key of the item to ingest
                  allowEmptyValue: true
                  required: true
                  schema:
                    type: string
                    description: Key of the item to ingest
                    example: abc123
                  example: abc123
            responses:
                "201":
                    description: Created response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AddSipResponseBody'
                            example:
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:create
    /ingest/sips/{uuid}:
        get:
            tags:
                - ingest
            summary: show_sip ingest
            description: Show SIP by ID
            operationId: ingest#show_sip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of SIP to show
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP to show
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroIngestSip'
                            example:
                                aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                batch_identifier: abc123
                                batch_status: processing
                                batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                completed_at: "1970-01-01T00:00:01Z"
                                created_at: "1970-01-01T00:00:01Z"
                                failed_as: PIP
                                failed_key: abc123
                                name: abc123
                                started_at: "1970-01-01T00:00:01Z"
                                status: failed
                                uploader_email: abc123
                                uploader_name: abc123
                                uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:read
    /ingest/sips/{uuid}/confirm:
        post:
            tags:
                - ingest
            summary: confirm_sip ingest
            description: Signal the SIP has been reviewed and accepted
            operationId: ingest#confirm_sip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of SIP to look up
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP to look up
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ConfirmSipRequestBody'
                        example:
                            location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:review
    /ingest/sips/{uuid}/download:
        get:
            tags:
                - ingest
            summary: download_sip ingest
            description: Download the failed package related to a SIP. It will be the original SIP or the transformed PIP, based on the SIP's `failed_as` value.
            operationId: ingest#download_sip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of the SIP to download
                  required: true
                  schema:
                    type: string
                    description: Identifier of the SIP to download
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: enduro-sip-download-ticket
                  in: cookie
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
            responses:
                "200":
                    description: OK response.
                    headers:
                        Content-Disposition:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                        Content-Length:
                            schema:
                                type: integer
                                example: 1
                                format: int64
                            example: 1
                        Content-Type:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                    content:
                        application/json:
                            schema:
                                type: string
                                format: binary
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
        post:
            tags:
                - ingest
            summary: download_sip_request ingest
            description: Request access to SIP download
            operationId: ingest#download_sip_request
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of the SIP to download
                  required: true
                  schema:
                    type: string
                    description: Identifier of the SIP to download
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    headers:
                        Set-Cookie:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:download
    /ingest/sips/{uuid}/reject:
        post:
            tags:
                - ingest
            summary: reject_sip ingest
            description: Signal the SIP has been reviewed and rejected
            operationId: ingest#reject_sip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of SIP to look up
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP to look up
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:review
    /ingest/sips/{uuid}/workflows:
        get:
            tags:
                - ingest
            summary: list_sip_workflows ingest
            description: List all workflows for a SIP
            operationId: ingest#list_sip_workflows
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of SIP to look up
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP to look up
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroIngestSipWorkflows'
                            example:
                                workflows:
                                    - completed_at: "1970-01-01T00:00:01Z"
                                      sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      started_at: "1970-01-01T00:00:01Z"
                                      status: in progress
                                      tasks:
                                        - completed_at: "1970-01-01T00:00:01Z"
                                          name: abc123
                                          note: abc123
                                          started_at: "1970-01-01T00:00:01Z"
                                          status: in progress
                                          uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                          workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      temporal_id: abc123
                                      type: create and review aip
                                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            security:
                - jwt_header_Authorization:
                    - ingest:sips:workflows:list
    /ingest/sips/upload:
        post:
            tags:
                - ingest
            summary: upload_sip ingest
            description: Upload a SIP to trigger an ingest workflow
            operationId: ingest#upload_sip
            parameters:
                - name: Content-Type
                  in: header
                  description: Content-Type header, must define value for multipart boundary.
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Content-Type header, must define value for multipart boundary.
                    default: multipart/form-data; boundary=goa
                    example: multipart/form-data; boundary=goa
                    pattern: multipart/[^;]+; boundary=.+
                  example: multipart/form-data; boundary=goa
            responses:
                "202":
                    description: Accepted response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AddSipResponseBody'
                            example:
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "400":
                    description: 'invalid_multipart_request: Error returned when the request body is not a valid multipart content.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'internal_error: Fault while processing upload.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:upload
    /ingest/users:
        get:
            tags:
                - ingest
            summary: list_users ingest
            description: List all users
            operationId: ingest#list_users
            parameters:
                - name: email
                  in: query
                  description: Email of the user
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Email of the user
                    example: nobody@example.com
                  example: nobody@example.com
                - name: name
                  in: query
                  description: Name of the user
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Name of the user
                    example: Jane Doe
                  example: Jane Doe
                - name: limit
                  in: query
                  description: Limit number of results to return
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Limit number of results to return
                    example: 1
                    format: int64
                  example: 1
                - name: offset
                  in: query
                  description: Offset from the beginning of the found set
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Offset from the beginning of the found set
                    example: 1
                    format: int64
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroIngestUsers'
                            example:
                                items:
                                    - created_at: "1970-01-01T00:00:01Z"
                                      email: nobody@example.com
                                      name: Jane Doe
                                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                page:
                                    limit: 1
                                    offset: 1
                                    total: 1
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - ingest:users:list
    /storage/aips:
        get:
            tags:
                - storage
            summary: list_aips storage
            description: List all AIPs
            operationId: storage#list_aips
            parameters:
                - name: name
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
                - name: earliest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: latest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                  example: stored
                - name: limit
                  in: query
                  description: Limit number of results to return
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Limit number of results to return
                    example: 1
                    format: int64
                  example: 1
                - name: offset
                  in: query
                  description: Offset from the beginning of the found set
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Offset from the beginning of the found set
                    example: 1
                    format: int64
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStorageAips'
                            example:
                                items:
                                    - created_at: "1970-01-01T00:00:01Z"
                                      location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      name: abc123
                                      object_key: abc123
                                      status: stored
                                      uuid: abc123
                                page:
                                    limit: 1
                                    offset: 1
                                    total: 1
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:list
        post:
            tags:
                - storage
            summary: create_aip storage
            description: Create a new AIP
            operationId: storage#create_aip
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateAipRequestBody'
                        example:
                            location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                            name: abc123
                            object_key: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                            status: stored
                            uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStorageAip'
                            example:
                                created_at: "1970-01-01T00:00:01Z"
                                location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                name: abc123
                                object_key: abc123
                                status: stored
                                uuid: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:create
    /storage/aips/{uuid}:
        get:
            tags:
                - storage
            summary: show_aip storage
            description: Show AIP by AIPID
            operationId: storage#show_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStorageAip'
                            example:
                                created_at: "1970-01-01T00:00:01Z"
                                location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                name: abc123
                                object_key: abc123
                                status: stored
                                uuid: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:read
    /storage/aips/{uuid}/deletion-cancel:
        post:
            tags:
                - storage
            summary: cancel_aip_deletion storage
            description: Cancel an AIP deletion request
            operationId: storage#cancel_aip_deletion
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CancelAipDeletionRequestBody'
                        example:
                            check: false
            responses:
                "200":
                    description: OK response.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:deletion:request
    /storage/aips/{uuid}/deletion-request:
        post:
            tags:
                - storage
            summary: request_aip_deletion storage
            description: Request an AIP deletion
            operationId: storage#request_aip_deletion
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RequestAipDeletionRequestBody'
                        example:
                            reason: abc123
            responses:
                "200":
                    description: OK response.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:deletion:request
    /storage/aips/{uuid}/deletion-requests:
        get:
            tags:
                - storage
            summary: list_deletion_requests storage
            description: List AIP deletion requests
            operationId: storage#list_deletion_requests
            parameters:
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: approved
                    enum:
                        - pending
                        - approved
                        - rejected
                        - canceled
                  example: approved
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DeletionRequestCollection'
                            example:
                                - aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                  reason: abc123
                                  report_key: abc123
                                  requested_at: "1970-01-01T00:00:01Z"
                                  requester: abc123
                                  reviewed_at: "1970-01-01T00:00:01Z"
                                  reviewer: abc123
                                  status: approved
                                  uuid: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:deletion:list
    /storage/aips/{uuid}/deletion-review:
        post:
            tags:
                - storage
            summary: review_aip_deletion storage
            description: Review an AIP deletion request
            operationId: storage#review_aip_deletion
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ReviewAipDeletionRequestBody'
                        example:
                            approved: false
            responses:
                "200":
                    description: OK response.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:deletion:review
    /storage/aips/{uuid}/download:
        get:
            tags:
                - storage
            summary: download_aip storage
            description: Download AIP by AIPID
            operationId: storage#download_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of the AIP to download
                  required: true
                  schema:
                    type: string
                    description: Identifier of the AIP to download
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: enduro-aip-download-ticket
                  in: cookie
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
            responses:
                "200":
                    description: OK response.
                    headers:
                        Content-Disposition:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                        Content-Length:
                            schema:
                                type: integer
                                example: 1
                                format: int64
                            example: 1
                        Content-Type:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                    content:
                        application/json:
                            schema:
                                type: string
                                format: binary
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
        post:
            tags:
                - storage
            summary: download_aip_request storage
            description: Request access to AIP download
            operationId: storage#download_aip_request
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of the AIP to download
                  required: true
                  schema:
                    type: string
                    description: Identifier of the AIP to download
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    headers:
                        Set-Cookie:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:download
    /storage/aips/{uuid}/reject:
        post:
            tags:
                - storage
            summary: reject_aip storage
            description: Reject an AIP
            operationId: storage#reject_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:review
    /storage/aips/{uuid}/store:
        get:
            tags:
                - storage
            summary: move_aip_status storage
            description: Retrieve the status of a permanent storage location move of the AIP
            operationId: storage#move_aip_status
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MoveStatusResult'
                            example:
                                done: false
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "424":
                    description: 'failed_dependency: Failed Dependency response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:move
        post:
            tags:
                - storage
            summary: move_aip storage
            description: Move an AIP to a permanent storage location
            operationId: storage#move_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ConfirmSipRequestBody'
                        example:
                            location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:move
    /storage/aips/{uuid}/submit:
        post:
            tags:
                - storage
            summary: submit_aip storage
            description: Start the submission of an AIP
            operationId: storage#submit_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SubmitAipRequestBody'
                        example:
                            name: abc123
            responses:
                "202":
                    description: Accepted response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SubmitAIPResult'
                            example:
                                url: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:submit
    /storage/aips/{uuid}/update:
        post:
            tags:
                - storage
            summary: update_aip storage
            description: Signal that an AIP submission is complete
            operationId: storage#update_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:submit
    /storage/aips/{uuid}/workflows:
        get:
            tags:
                - storage
            summary: list_aip_workflows storage
            description: List workflows related to an AIP
            operationId: storage#list_aip_workflows
            parameters:
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                        - canceled
                  example: in progress
                - name: type
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: upload aip
                    enum:
                        - unspecified
                        - upload aip
                        - move aip
                        - delete aip
                  example: upload aip
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStorageAipWorkflows'
                            example:
                                workflows:
                                    - aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      completed_at: "1970-01-01T00:00:01Z"
                                      started_at: "1970-01-01T00:00:01Z"
                                      status: in progress
                                      tasks:
                                        - completed_at: "1970-01-01T00:00:01Z"
                                          name: abc123
                                          note: abc123
                                          started_at: "1970-01-01T00:00:01Z"
                                          status: in progress
                                          uuid: abc123
                                          workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      temporal_id: abc123
                                      type: upload aip
                                      uuid: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:workflows:list
    /storage/locations:
        get:
            tags:
                - storage
            summary: list_locations storage
            description: List locations
            operationId: storage#list_locations
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LocationResponseCollection'
                            example:
                                - created_at: "1970-01-01T00:00:01Z"
                                  description: abc123
                                  name: abc123
                                  purpose: aip_store
                                  source: minio
                                  uuid: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - storage:locations:list
        post:
            tags:
                - storage
            summary: create_location storage
            description: Create a storage location
            operationId: storage#create_location
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateLocationRequestBody'
                        example:
                            config:
                                Type: s3
                                Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                            description: abc123
                            name: abc123
                            purpose: aip_store
                            source: minio
            responses:
                "201":
                    description: Created response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CreateLocationResult'
                            example:
                                uuid: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - storage:locations:create
    /storage/locations/{uuid}:
        get:
            tags:
                - storage
            summary: show_location storage
            description: Show location by UUID
            operationId: storage#show_location
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of location
                  required: true
                  schema:
                    type: string
                    description: Identifier of location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStorageLocation'
                            example:
                                config:
                                    Type: s3
                                    Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                                created_at: "1970-01-01T00:00:01Z"
                                description: abc123
                                name: abc123
                                purpose: aip_store
                                source: minio
                                uuid: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: Storage location not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LocationNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:locations:read
    /storage/locations/{uuid}/aips:
        get:
            tags:
                - storage
            summary: list_location_aips storage
            description: List all the AIPs stored in the location with UUID
            operationId: storage#list_location_aips
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of location
                  required: true
                  schema:
                    type: string
                    description: Identifier of location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPResponseCollection'
                            example:
                                - created_at: "1970-01-01T00:00:01Z"
                                  location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                  name: abc123
                                  object_key: abc123
                                  status: stored
                                  uuid: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: Storage location not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LocationNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:locations:aips:list
    /storage/monitor:
        get:
            tags:
                - storage
            summary: monitor storage
            description: Obtain access to the /monitor WebSocket
            operationId: storage#monitor
            parameters:
                - name: enduro-storage-ws-ticket
                  in: cookie
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
            responses:
                "101":
                    description: Switching Protocols response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/StorageEvent2'
                            example:
                                value:
                                    Type: location_created_event
                                    Value: '{"item":{"config":{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"},"created_at":"1970-01-01T00:00:01Z","description":"abc123","name":"abc123","purpose":"aip_store","source":"minio","uuid":"abc123"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
        post:
            tags:
                - storage
            summary: monitor_request storage
            description: Request access to the /monitor WebSocket
            operationId: storage#monitor_request
            responses:
                "200":
                    description: OK response.
                    headers:
                        Set-Cookie:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization: []
components:
    schemas:
        AIPCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroStorageAip'
            example:
                - created_at: "1970-01-01T00:00:01Z"
                  location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  name: abc123
                  object_key: abc123
                  status: stored
                  uuid: abc123
        AIPCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroStorageAip'
                uuid:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    created_at: "1970-01-01T00:00:01Z"
                    location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    name: abc123
                    object_key: abc123
                    status: stored
                    uuid: abc123
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        AIPLocationUpdatedEvent:
            type: object
            properties:
                location_uuid:
                    type: string
                    description: Identifier of Location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - location_uuid
        AIPNotFound:
            type: object
            properties:
                message:
                    type: string
                    description: Message of error
                    example: abc123
                uuid:
                    type: string
                    description: Identifier of missing AIP
                    example: abc123
            description: AIP not found.
            example:
                message: abc123
                uuid: abc123
            required:
                - message
                - uuid
        AIPResponse:
            type: object
            properties:
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                location_uuid:
                    type: string
                    description: Identifier of storage location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name:
                    type: string
                    example: abc123
                object_key:
                    type: string
                    example: abc123
                status:
                    type: string
                    description: Status of the AIP
                    default: unspecified
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                uuid:
                    type: string
                    example: abc123
            description: An AIP describes an AIP retrieved by the storage service. (default view)
            example:
                created_at: "1970-01-01T00:00:01Z"
                location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name: abc123
                object_key: abc123
                status: stored
                uuid: abc123
            required:
                - name
                - uuid
                - status
                - object_key
                - created_at
        AIPResponseCollection:
            type: array
            items:
                $ref: '#/components/schemas/AIPResponse'
            description: list_location_aips_response_body is the result type for an array of AIPResponse (default view)
            example:
                - created_at: "1970-01-01T00:00:01Z"
                  location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  name: abc123
                  object_key: abc123
                  status: stored
                  uuid: abc123
        AIPStatusUpdatedEvent:
            type: object
            properties:
                status:
                    type: string
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                uuid:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                status: stored
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - status
        AIPTaskCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroStorageAipTask'
            example:
                - completed_at: "1970-01-01T00:00:01Z"
                  name: abc123
                  note: abc123
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  uuid: abc123
                  workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        AIPTaskCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroStorageAipTask'
                uuid:
                    type: string
                    description: Identifier of task
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    name: abc123
                    note: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    uuid: abc123
                    workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        AIPTaskUpdatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroStorageAipTask'
                uuid:
                    type: string
                    description: Identifier of task
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    name: abc123
                    note: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    uuid: abc123
                    workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        AIPWorkflowCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroStorageAipWorkflow'
            example:
                - aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  completed_at: "1970-01-01T00:00:01Z"
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  tasks:
                    - completed_at: "1970-01-01T00:00:01Z"
                      name: abc123
                      note: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      uuid: abc123
                      workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  temporal_id: abc123
                  type: upload aip
                  uuid: abc123
        AIPWorkflowCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroStorageAipWorkflow'
                uuid:
                    type: string
                    description: Identifier of workflow
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    completed_at: "1970-01-01T00:00:01Z"
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          uuid: abc123
                          workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    temporal_id: abc123
                    type: upload aip
                    uuid: abc123
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        AIPWorkflowUpdatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroStorageAipWorkflow'
                uuid:
                    type: string
                    description: Identifier of workflow
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    completed_at: "1970-01-01T00:00:01Z"
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          uuid: abc123
                          workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    temporal_id: abc123
                    type: upload aip
                    uuid: abc123
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        AMSSConfig:
            type: object
            properties:
                api_key:
                    type: string
                    example: abc123
                url:
                    type: string
                    example: abc123
                username:
                    type: string
                    example: abc123
            example:
                api_key: abc123
                url: abc123
                username: abc123
            required:
                - api_key
                - url
                - username
        AddBatchRequestBody:
            type: object
            properties:
                identifier:
                    type: string
                    description: Optional Batch identifier assigned by the user
                    example: abc123
                keys:
                    type: array
                    items:
                        type: string
                        example: abc123
                    description: Key of the SIPs to ingest as part of the batch
                    example:
                        - abc123
                source_id:
                    type: string
                    description: Identifier of SIP source -- CURRENTLY NOT USED
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            example:
                identifier: abc123
                keys:
                    - abc123
                source_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - source_id
                - keys
        AddSipResponseBody:
            type: object
            properties:
                uuid:
                    type: string
                    description: Identifier of the ingested SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            example:
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
        BatchCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestBatch'
            example:
                - completed_at: "1970-01-01T00:00:01Z"
                  created_at: "1970-01-01T00:00:01Z"
                  identifier: abc123
                  sips_count: 1
                  started_at: "1970-01-01T00:00:01Z"
                  status: processing
                  uploader_email: abc123
                  uploader_name: abc123
                  uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        BatchCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestBatch'
                uuid:
                    type: string
                    description: Identifier of Batch
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    created_at: "1970-01-01T00:00:01Z"
                    identifier: abc123
                    sips_count: 1
                    started_at: "1970-01-01T00:00:01Z"
                    status: processing
                    uploader_email: abc123
                    uploader_name: abc123
                    uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        BatchNotFound:
            type: object
            properties:
                message:
                    type: string
                    description: Message of error
                    example: abc123
                uuid:
                    type: string
                    description: Identifier of missing Batch
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            description: Batch not found.
            example:
                message: abc123
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - message
                - uuid
        BatchUpdatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestBatch'
                uuid:
                    type: string
                    description: Identifier of Batch
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    created_at: "1970-01-01T00:00:01Z"
                    identifier: abc123
                    sips_count: 1
                    started_at: "1970-01-01T00:00:01Z"
                    status: processing
                    uploader_email: abc123
                    uploader_name: abc123
                    uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        CancelAipDeletionRequestBody:
            type: object
            properties:
                check:
                    type: boolean
                    description: If check is true, check user authorization to cancel deletion but don't execute the cancellation.
                    example: false
            example:
                check: false
        ConfirmSipRequestBody:
            type: object
            properties:
                location_uuid:
                    type: string
                    description: Identifier of storage location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - location_uuid
        CreateAipRequestBody:
            type: object
            properties:
                location_uuid:
                    type: string
                    description: Identifier of the AIP's storage location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name:
                    type: string
                    description: Name of the AIP
                    example: abc123
                object_key:
                    type: string
                    description: ObjectKey of the AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                status:
                    type: string
                    description: Status of the the AIP
                    default: unspecified
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                uuid:
                    type: string
                    description: Identifier of the AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            example:
                location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name: abc123
                object_key: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                status: stored
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - name
                - object_key
        CreateLocationRequestBody:
            type: object
            properties:
                config:
                    type: object
                    properties:
                        Type:
                            type: string
                            description: |-
                                Union type name, one of:
                                - "amss"
                                - "s3"
                                - "sftp"
                                - "url"
                            example: s3
                            enum:
                                - amss
                                - s3
                                - sftp
                                - url
                        Value:
                            type: string
                            description: JSON encoded union value
                            example: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                    example:
                        Type: s3
                        Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                    required:
                        - Type
                        - Value
                description:
                    type: string
                    example: abc123
                name:
                    type: string
                    example: abc123
                purpose:
                    type: string
                    example: aip_store
                    enum:
                        - unspecified
                        - aip_store
                source:
                    type: string
                    example: minio
                    enum:
                        - unspecified
                        - minio
                        - sftp
                        - amss
            example:
                config:
                    Type: s3
                    Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                description: abc123
                name: abc123
                purpose: aip_store
                source: minio
            required:
                - name
                - source
                - purpose
        CreateLocationResult:
            type: object
            properties:
                uuid:
                    type: string
                    example: abc123
            example:
                uuid: abc123
            required:
                - uuid
        DeletionRequestCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroStorageDeletionrequest'
            example:
                - aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  reason: abc123
                  report_key: abc123
                  requested_at: "1970-01-01T00:00:01Z"
                  requester: abc123
                  reviewed_at: "1970-01-01T00:00:01Z"
                  reviewer: abc123
                  status: approved
                  uuid: abc123
        EnduroAbout:
            type: object
            properties:
                poststorage:
                    $ref: '#/components/schemas/EnduroPoststorageCollection'
                preprocessing:
                    $ref: '#/components/schemas/EnduroPreprocessing'
                preservation_system:
                    type: string
                    example: abc123
                upload_max_size:
                    type: integer
                    example: 1
                    format: int64
                version:
                    type: string
                    example: abc123
            example:
                poststorage:
                    - task_queue: abc123
                      workflow_name: abc123
                preprocessing:
                    enabled: false
                    task_queue: abc123
                    workflow_name: abc123
                preservation_system: abc123
                upload_max_size: 1
                version: abc123
            required:
                - version
                - preservation_system
                - preprocessing
                - upload_max_size
        EnduroIngestBatch:
            type: object
            properties:
                completed_at:
                    type: string
                    description: Completion datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                identifier:
                    type: string
                    description: Identifier of the Batch
                    example: abc123
                sips_count:
                    type: integer
                    description: Number of SIPs in the Batch
                    example: 1
                    format: int64
                started_at:
                    type: string
                    description: Start datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    description: Status of the Batch
                    example: processing
                    enum:
                        - queued
                        - processing
                        - pending
                        - ingested
                        - canceled
                        - failed
                uploader_email:
                    type: string
                    description: Email of the user who uploaded the Batch
                    example: abc123
                uploader_name:
                    type: string
                    description: Name of the user who uploaded the Batch
                    example: abc123
                uploader_uuid:
                    type: string
                    description: UUID of the user who uploaded the Batch
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid:
                    type: string
                    description: Identifier of Batch
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            description: Batch describes an ingest batch type.
            example:
                completed_at: "1970-01-01T00:00:01Z"
                created_at: "1970-01-01T00:00:01Z"
                identifier: abc123
                sips_count: 1
                started_at: "1970-01-01T00:00:01Z"
                status: processing
                uploader_email: abc123
                uploader_name: abc123
                uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - identifier
                - sips_count
                - status
                - created_at
        EnduroIngestBatches:
            type: object
            properties:
                items:
                    $ref: '#/components/schemas/BatchCollection'
                page:
                    $ref: '#/components/schemas/EnduroPage'
            example:
                items:
                    - completed_at: "1970-01-01T00:00:01Z"
                      created_at: "1970-01-01T00:00:01Z"
                      identifier: abc123
                      sips_count: 1
                      started_at: "1970-01-01T00:00:01Z"
                      status: processing
                      uploader_email: abc123
                      uploader_name: abc123
                      uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                page:
                    limit: 1
                    offset: 1
                    total: 1
            required:
                - items
                - page
        EnduroIngestSip:
            type: object
            properties:
                aip_uuid:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                batch_identifier:
                    type: string
                    description: Identifier of the related Batch
                    example: abc123
                batch_status:
                    type: string
                    description: Status of the related Batch
                    example: processing
                    enum:
                        - queued
                        - processing
                        - pending
                        - ingested
                        - canceled
                        - failed
                batch_uuid:
                    type: string
                    description: UUID of the related Batch
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                completed_at:
                    type: string
                    description: Completion datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                failed_as:
                    type: string
                    description: Package type in case of failure (SIP or PIP)
                    example: PIP
                    enum:
                        - SIP
                        - PIP
                failed_key:
                    type: string
                    description: Object key of the failed package in the internal bucket
                    example: abc123
                name:
                    type: string
                    description: Name of the SIP
                    example: abc123
                started_at:
                    type: string
                    description: Start datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    description: Status of the SIP
                    example: failed
                    enum:
                        - error
                        - failed
                        - queued
                        - processing
                        - pending
                        - ingested
                        - validated
                        - canceled
                uploader_email:
                    type: string
                    description: Email of the user who uploaded the SIP
                    example: abc123
                uploader_name:
                    type: string
                    description: Name of the user who uploaded the SIP
                    example: abc123
                uploader_uuid:
                    type: string
                    description: UUID of the user who uploaded the SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid:
                    type: string
                    description: Identifier of SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            description: SIP describes an ingest SIP type.
            example:
                aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                batch_identifier: abc123
                batch_status: processing
                batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                completed_at: "1970-01-01T00:00:01Z"
                created_at: "1970-01-01T00:00:01Z"
                failed_as: PIP
                failed_key: abc123
                name: abc123
                started_at: "1970-01-01T00:00:01Z"
                status: failed
                uploader_email: abc123
                uploader_name: abc123
                uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - status
                - created_at
        EnduroIngestSipTask:
            type: object
            properties:
                completed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                name:
                    type: string
                    example: abc123
                note:
                    type: string
                    example: abc123
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                        - failed
                uuid:
                    type: string
                    description: Identifier of the task
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                workflow_uuid:
                    type: string
                    description: Identifier of related workflow
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            description: SIPTask describes a SIP workflow task.
            example:
                completed_at: "1970-01-01T00:00:01Z"
                name: abc123
                note: abc123
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - name
                - status
                - started_at
                - workflow_uuid
        EnduroIngestSipWorkflow:
            type: object
            properties:
                completed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                sip_uuid:
                    type: string
                    description: Identifier of related SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                        - failed
                        - canceled
                tasks:
                    $ref: '#/components/schemas/SIPTaskCollection'
                temporal_id:
                    type: string
                    example: abc123
                type:
                    type: string
                    example: create and review aip
                    enum:
                        - create aip
                        - create and review aip
                uuid:
                    type: string
                    description: Identifier of the workflow
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            description: SIPWorkflow describes a workflow of a SIP.
            example:
                completed_at: "1970-01-01T00:00:01Z"
                sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                tasks:
                    - completed_at: "1970-01-01T00:00:01Z"
                      name: abc123
                      note: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                temporal_id: abc123
                type: create and review aip
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - temporal_id
                - type
                - status
                - started_at
                - sip_uuid
        EnduroIngestSipWorkflows:
            type: object
            properties:
                workflows:
                    $ref: '#/components/schemas/SIPWorkflowCollection'
            description: SIPWorkflows describes the workflows of a SIP.
            example:
                workflows:
                    - completed_at: "1970-01-01T00:00:01Z"
                      sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                          workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      temporal_id: abc123
                      type: create and review aip
                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        EnduroIngestSips:
            type: object
            properties:
                items:
                    $ref: '#/components/schemas/SIPCollection'
                page:
                    $ref: '#/components/schemas/EnduroPage'
            example:
                items:
                    - aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      batch_identifier: abc123
                      batch_status: processing
                      batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      completed_at: "1970-01-01T00:00:01Z"
                      created_at: "1970-01-01T00:00:01Z"
                      failed_as: PIP
                      failed_key: abc123
                      name: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: failed
                      uploader_email: abc123
                      uploader_name: abc123
                      uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                page:
                    limit: 1
                    offset: 1
                    total: 1
            required:
                - items
                - page
        EnduroIngestSipsourceObject:
            type: object
            properties:
                is_dir:
                    type: boolean
                    description: True if the object is a directory, false if it is a file
                    example: false
                key:
                    type: string
                    description: Key of the object
                    example: abc123
                mod_time:
                    type: string
                    description: Last modification time of the object
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                size:
                    type: integer
                    description: Size of the object in bytes
                    example: 1
                    format: int64
            description: SIPSourceObject describes an object in a SIP source location.
            example:
                is_dir: false
                key: abc123
                mod_time: "1970-01-01T00:00:01Z"
                size: 1
            required:
                - key
                - is_dir
        EnduroIngestSipsourceObjects:
            type: object
            properties:
                limit:
                    type: integer
                    description: Limit of objects per page
                    example: 1
                    format: int64
                next:
                    type: string
                    description: Token to get the next page of objects
                    example: abc123
                objects:
                    $ref: '#/components/schemas/SIPSourceObjectCollection'
            example:
                limit: 1
                next: abc123
                objects:
                    - is_dir: false
                      key: abc123
                      mod_time: "1970-01-01T00:00:01Z"
                      size: 1
            required:
                - objects
                - limit
        EnduroIngestUser:
            type: object
            properties:
                created_at:
                    type: string
                    description: Creation date & time of the user
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                email:
                    type: string
                    description: Email of the user
                    example: nobody@example.com
                name:
                    type: string
                    description: Name of the user
                    example: Jane Doe
                uuid:
                    type: string
                    description: Identifier of the user
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            description: User describes an Enduro user.
            example:
                created_at: "1970-01-01T00:00:01Z"
                email: nobody@example.com
                name: Jane Doe
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - email
                - name
                - created_at
        EnduroIngestUsers:
            type: object
            properties:
                items:
                    $ref: '#/components/schemas/UserCollection'
                page:
                    $ref: '#/components/schemas/EnduroPage'
            example:
                items:
                    - created_at: "1970-01-01T00:00:01Z"
                      email: nobody@example.com
                      name: Jane Doe
                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                page:
                    limit: 1
                    offset: 1
                    total: 1
            required:
                - items
                - page
        EnduroPage:
            type: object
            properties:
                limit:
                    type: integer
                    description: Maximum items per page
                    example: 1
                    format: int64
                offset:
                    type: integer
                    description: Offset from first result to start of page
                    example: 1
                    format: int64
                total:
                    type: integer
                    description: Total result count before paging
                    example: 1
                    format: int64
            description: Page represents a subset of search results.
            example:
                limit: 1
                offset: 1
                total: 1
            required:
                - limit
                - offset
                - total
        EnduroPoststorage:
            type: object
            properties:
                task_queue:
                    type: string
                    example: abc123
                workflow_name:
                    type: string
                    example: abc123
            example:
                task_queue: abc123
                workflow_name: abc123
            required:
                - workflow_name
                - task_queue
        EnduroPoststorageCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroPoststorage'
            example:
                - task_queue: abc123
                  workflow_name: abc123
        EnduroPreprocessing:
            type: object
            properties:
                enabled:
                    type: boolean
                    example: false
                task_queue:
                    type: string
                    example: abc123
                workflow_name:
                    type: string
                    example: abc123
            example:
                enabled: false
                task_queue: abc123
                workflow_name: abc123
            required:
                - enabled
                - workflow_name
                - task_queue
        EnduroStorageAip:
            type: object
            properties:
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                location_uuid:
                    type: string
                    description: Identifier of storage location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name:
                    type: string
                    example: abc123
                object_key:
                    type: string
                    example: abc123
                status:
                    type: string
                    description: Status of the AIP
                    default: unspecified
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                uuid:
                    type: string
                    example: abc123
            description: An AIP describes an AIP retrieved by the storage service.
            example:
                created_at: "1970-01-01T00:00:01Z"
                location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name: abc123
                object_key: abc123
                status: stored
                uuid: abc123
            required:
                - name
                - uuid
                - status
                - object_key
                - created_at
        EnduroStorageAipTask:
            type: object
            properties:
                completed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                name:
                    type: string
                    example: abc123
                note:
                    type: string
                    example: abc123
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                uuid:
                    type: string
                    example: abc123
                workflow_uuid:
                    type: string
                    description: Identifier of related workflow
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            description: AIPTask describes an AIP workflow task.
            example:
                completed_at: "1970-01-01T00:00:01Z"
                name: abc123
                note: abc123
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                uuid: abc123
                workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - name
                - status
                - workflow_uuid
        EnduroStorageAipWorkflow:
            type: object
            properties:
                aip_uuid:
                    type: string
                    description: Identifier of related AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                completed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                        - canceled
                tasks:
                    $ref: '#/components/schemas/AIPTaskCollection'
                temporal_id:
                    type: string
                    example: abc123
                type:
                    type: string
                    example: upload aip
                    enum:
                        - unspecified
                        - upload aip
                        - move aip
                        - delete aip
                uuid:
                    type: string
                    example: abc123
            description: AIPWorkflow describes a workflow of an AIP.
            example:
                aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                completed_at: "1970-01-01T00:00:01Z"
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                tasks:
                    - completed_at: "1970-01-01T00:00:01Z"
                      name: abc123
                      note: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      uuid: abc123
                      workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                temporal_id: abc123
                type: upload aip
                uuid: abc123
            required:
                - uuid
                - temporal_id
                - type
                - status
                - aip_uuid
        EnduroStorageAipWorkflows:
            type: object
            properties:
                workflows:
                    $ref: '#/components/schemas/AIPWorkflowCollection'
            description: AIPWorkflows describes the workflows of an AIP.
            example:
                workflows:
                    - aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      completed_at: "1970-01-01T00:00:01Z"
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          uuid: abc123
                          workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      temporal_id: abc123
                      type: upload aip
                      uuid: abc123
        EnduroStorageAips:
            type: object
            properties:
                items:
                    $ref: '#/components/schemas/AIPCollection'
                page:
                    $ref: '#/components/schemas/EnduroPage'
            example:
                items:
                    - created_at: "1970-01-01T00:00:01Z"
                      location_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      name: abc123
                      object_key: abc123
                      status: stored
                      uuid: abc123
                page:
                    limit: 1
                    offset: 1
                    total: 1
            required:
                - items
                - page
        EnduroStorageDeletionrequest:
            type: object
            properties:
                aip_uuid:
                    type: string
                    description: Identifier of related AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                reason:
                    type: string
                    description: Reason for the deletion request
                    example: abc123
                report_key:
                    type: string
                    description: Object key of the deletion report
                    example: abc123
                requested_at:
                    type: string
                    description: Time the deletion was requested
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                requester:
                    type: string
                    description: User who requested the deletion
                    example: abc123
                reviewed_at:
                    type: string
                    description: Time the deletion request was reviewed
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                reviewer:
                    type: string
                    description: User who reviewed the deletion request
                    example: abc123
                status:
                    type: string
                    description: Status of the deletion request
                    example: approved
                    enum:
                        - pending
                        - approved
                        - rejected
                        - canceled
                uuid:
                    type: string
                    description: Identifier of deletion request
                    example: abc123
            description: DeletionRequest describes an AIP deletion request.
            example:
                aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                reason: abc123
                report_key: abc123
                requested_at: "1970-01-01T00:00:01Z"
                requester: abc123
                reviewed_at: "1970-01-01T00:00:01Z"
                reviewer: abc123
                status: approved
                uuid: abc123
            required:
                - uuid
                - aip_uuid
                - requester
                - reason
                - status
                - requested_at
        EnduroStorageLocation:
            type: object
            properties:
                config:
                    example:
                        bucket: abc123
                        endpoint: abc123
                        key: abc123
                        path_style: false
                        profile: abc123
                        region: abc123
                        secret: abc123
                        token: abc123
                    anyOf:
                        - $ref: '#/components/schemas/AMSSConfig'
                        - $ref: '#/components/schemas/S3Config'
                        - $ref: '#/components/schemas/SFTPConfig'
                        - $ref: '#/components/schemas/URLConfig'
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                description:
                    type: string
                    description: Description of the location
                    example: abc123
                name:
                    type: string
                    description: Name of location
                    example: abc123
                purpose:
                    type: string
                    description: Purpose of the location
                    default: unspecified
                    example: aip_store
                    enum:
                        - unspecified
                        - aip_store
                source:
                    type: string
                    description: Data source of the location
                    default: unspecified
                    example: minio
                    enum:
                        - unspecified
                        - minio
                        - sftp
                        - amss
                uuid:
                    type: string
                    example: abc123
            description: A Location describes a location retrieved by the storage service.
            example:
                config:
                    bucket: abc123
                    endpoint: abc123
                    key: abc123
                    path_style: false
                    profile: abc123
                    region: abc123
                    secret: abc123
                    token: abc123
                created_at: "1970-01-01T00:00:01Z"
                description: abc123
                name: abc123
                purpose: aip_store
                source: minio
                uuid: abc123
            required:
                - name
                - source
                - purpose
                - uuid
                - created_at
        Error:
            type: object
            properties:
                fault:
                    type: boolean
                    description: Is the error a server-side fault?
                    example: false
                id:
                    type: string
                    description: ID is a unique identifier for this particular occurrence of the problem.
                    example: 123abc
                message:
                    type: string
                    description: Message is a human-readable explanation specific to this occurrence of the problem.
                    example: parameter 'p' must be an integer
                name:
                    type: string
                    description: Name is the name of this class of errors.
                    example: bad_request
                temporary:
                    type: boolean
                    description: Is the error temporary?
                    example: false
                timeout:
                    type: boolean
                    description: Is the error a timeout?
                    example: false
            example:
                fault: false
                id: 123abc
                message: parameter 'p' must be an integer
                name: bad_request
                temporary: false
                timeout: false
            required:
                - name
                - id
                - message
                - temporary
                - timeout
                - fault
        IngestEvent:
            type: object
            properties:
                value:
                    example:
                        item:
                            aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                            batch_identifier: abc123
                            batch_status: processing
                            batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                            completed_at: "1970-01-01T00:00:01Z"
                            created_at: "1970-01-01T00:00:01Z"
                            failed_as: PIP
                            failed_key: abc123
                            name: abc123
                            started_at: "1970-01-01T00:00:01Z"
                            status: failed
                            uploader_email: abc123
                            uploader_name: abc123
                            uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                            uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                        uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    anyOf:
                        - $ref: '#/components/schemas/IngestPingEvent'
                        - $ref: '#/components/schemas/SIPCreatedEvent'
                        - $ref: '#/components/schemas/SIPUpdatedEvent'
                        - $ref: '#/components/schemas/SIPStatusUpdatedEvent'
                        - $ref: '#/components/schemas/SIPWorkflowCreatedEvent'
                        - $ref: '#/components/schemas/SIPWorkflowUpdatedEvent'
                        - $ref: '#/components/schemas/SIPTaskCreatedEvent'
                        - $ref: '#/components/schemas/SIPTaskUpdatedEvent'
                        - $ref: '#/components/schemas/BatchCreatedEvent'
                        - $ref: '#/components/schemas/BatchUpdatedEvent'
            example:
                value:
                    item:
                        aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                        batch_identifier: abc123
                        batch_status: processing
                        batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                        completed_at: "1970-01-01T00:00:01Z"
                        created_at: "1970-01-01T00:00:01Z"
                        failed_as: PIP
                        failed_key: abc123
                        name: abc123
                        started_at: "1970-01-01T00:00:01Z"
                        status: failed
                        uploader_email: abc123
                        uploader_name: abc123
                        uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                        uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        IngestEvent2:
            type: object
            properties:
                value:
                    type: object
                    properties:
                        Type:
                            type: string
                            description: |-
                                Union type name, one of:
                                - "ingest_ping_event"
                                - "sip_created_event"
                                - "sip_updated_event"
                                - "sip_status_updated_event"
                                - "sip_workflow_created_event"
                                - "sip_workflow_updated_event"
                                - "sip_task_created_event"
                                - "sip_task_updated_event"
                                - "batch_created_event"
                                - "batch_updated_event"
                            example: sip_created_event
                            enum:
                                - ingest_ping_event
                                - sip_created_event
                                - sip_updated_event
                                - sip_status_updated_event
                                - sip_workflow_created_event
                                - sip_workflow_updated_event
                                - sip_task_created_event
                                - sip_task_updated_event
                                - batch_created_event
                                - batch_updated_event
                        Value:
                            type: string
                            description: JSON encoded union value
                            example: '{"item":{"aip_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","batch_identifier":"abc123","batch_status":"processing","batch_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","completed_at":"1970-01-01T00:00:01Z","created_at":"1970-01-01T00:00:01Z","failed_as":"PIP","failed_key":"abc123","name":"abc123","started_at":"1970-01-01T00:00:01Z","status":"failed","uploader_email":"abc123","uploader_name":"abc123","uploader_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                    example:
                        Type: sip_created_event
                        Value: '{"item":{"aip_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","batch_identifier":"abc123","batch_status":"processing","batch_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","completed_at":"1970-01-01T00:00:01Z","created_at":"1970-01-01T00:00:01Z","failed_as":"PIP","failed_key":"abc123","name":"abc123","started_at":"1970-01-01T00:00:01Z","status":"failed","uploader_email":"abc123","uploader_name":"abc123","uploader_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                    required:
                        - Type
                        - Value
            example:
                value:
                    Type: sip_created_event
                    Value: '{"item":{"aip_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","batch_identifier":"abc123","batch_status":"processing","batch_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","completed_at":"1970-01-01T00:00:01Z","created_at":"1970-01-01T00:00:01Z","failed_as":"PIP","failed_key":"abc123","name":"abc123","started_at":"1970-01-01T00:00:01Z","status":"failed","uploader_email":"abc123","uploader_name":"abc123","uploader_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
        IngestPingEvent:
            type: object
            properties:
                message:
                    type: string
                    example: abc123
            example:
                message: abc123
        LocationCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroStorageLocation'
                uuid:
                    type: string
                    description: Identifier of Location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    config:
                        bucket: abc123
                        endpoint: abc123
                        key: abc123
                        path_style: false
                        profile: abc123
                        region: abc123
                        secret: abc123
                        token: abc123
                    created_at: "1970-01-01T00:00:01Z"
                    description: abc123
                    name: abc123
                    purpose: aip_store
                    source: minio
                    uuid: abc123
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        LocationNotFound:
            type: object
            properties:
                message:
                    type: string
                    description: Message of error
                    example: abc123
                uuid:
                    type: string
                    example: abc123
            description: Storage location not found.
            example:
                message: abc123
                uuid: abc123
            required:
                - message
                - uuid
        LocationResponse:
            type: object
            properties:
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                description:
                    type: string
                    description: Description of the location
                    example: abc123
                name:
                    type: string
                    description: Name of location
                    example: abc123
                purpose:
                    type: string
                    description: Purpose of the location
                    default: unspecified
                    example: aip_store
                    enum:
                        - unspecified
                        - aip_store
                source:
                    type: string
                    description: Data source of the location
                    default: unspecified
                    example: minio
                    enum:
                        - unspecified
                        - minio
                        - sftp
                        - amss
                uuid:
                    type: string
                    example: abc123
            description: A Location describes a location retrieved by the storage service. (default view)
            example:
                created_at: "1970-01-01T00:00:01Z"
                description: abc123
                name: abc123
                purpose: aip_store
                source: minio
                uuid: abc123
            required:
                - name
                - source
                - purpose
                - uuid
                - created_at
        LocationResponseCollection:
            type: array
            items:
                $ref: '#/components/schemas/LocationResponse'
            description: list_locations_response_body is the result type for an array of LocationResponse (default view)
            example:
                - created_at: "1970-01-01T00:00:01Z"
                  description: abc123
                  name: abc123
                  purpose: aip_store
                  source: minio
                  uuid: abc123
        MoveStatusResult:
            type: object
            properties:
                done:
                    type: boolean
                    example: false
            example:
                done: false
            required:
                - done
        RequestAipDeletionRequestBody:
            type: object
            properties:
                reason:
                    type: string
                    example: abc123
            example:
                reason: abc123
            required:
                - reason
        ReviewAipDeletionRequestBody:
            type: object
            properties:
                approved:
                    type: boolean
                    example: false
            example:
                approved: false
            required:
                - approved
        S3Config:
            type: object
            properties:
                bucket:
                    type: string
                    example: abc123
                endpoint:
                    type: string
                    example: abc123
                key:
                    type: string
                    example: abc123
                path_style:
                    type: boolean
                    example: false
                profile:
                    type: string
                    example: abc123
                region:
                    type: string
                    example: abc123
                secret:
                    type: string
                    example: abc123
                token:
                    type: string
                    example: abc123
            example:
                bucket: abc123
                endpoint: abc123
                key: abc123
                path_style: false
                profile: abc123
                region: abc123
                secret: abc123
                token: abc123
            required:
                - bucket
                - region
        SFTPConfig:
            type: object
            properties:
                address:
                    type: string
                    example: abc123
                directory:
                    type: string
                    example: abc123
                password:
                    type: string
                    example: abc123
                username:
                    type: string
                    example: abc123
            example:
                address: abc123
                directory: abc123
                password: abc123
                username: abc123
            required:
                - address
                - username
                - password
                - directory
        SIPCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestSip'
            example:
                - aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  batch_identifier: abc123
                  batch_status: processing
                  batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  completed_at: "1970-01-01T00:00:01Z"
                  created_at: "1970-01-01T00:00:01Z"
                  failed_as: PIP
                  failed_key: abc123
                  name: abc123
                  started_at: "1970-01-01T00:00:01Z"
                  status: failed
                  uploader_email: abc123
                  uploader_name: abc123
                  uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        SIPCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestSip'
                uuid:
                    type: string
                    description: Identifier of SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    batch_identifier: abc123
                    batch_status: processing
                    batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    completed_at: "1970-01-01T00:00:01Z"
                    created_at: "1970-01-01T00:00:01Z"
                    failed_as: PIP
                    failed_key: abc123
                    name: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: failed
                    uploader_email: abc123
                    uploader_name: abc123
                    uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        SIPNotFound:
            type: object
            properties:
                message:
                    type: string
                    description: Message of error
                    example: abc123
                uuid:
                    type: string
                    description: Identifier of missing SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            description: SIP not found.
            example:
                message: abc123
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - message
                - uuid
        SIPSourceObjectCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestSipsourceObject'
            example:
                - is_dir: false
                  key: abc123
                  mod_time: "1970-01-01T00:00:01Z"
                  size: 1
        SIPStatusUpdatedEvent:
            type: object
            properties:
                status:
                    type: string
                    example: failed
                    enum:
                        - error
                        - failed
                        - queued
                        - processing
                        - pending
                        - ingested
                        - validated
                        - canceled
                uuid:
                    type: string
                    description: Identifier of SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                status: failed
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - status
        SIPTaskCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestSipTask'
            example:
                - completed_at: "1970-01-01T00:00:01Z"
                  name: abc123
                  note: abc123
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        SIPTaskCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestSipTask'
                uuid:
                    type: string
                    description: Identifier of task
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    name: abc123
                    note: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        SIPTaskUpdatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestSipTask'
                uuid:
                    type: string
                    description: Identifier of task
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    name: abc123
                    note: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        SIPUpdatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestSip'
                uuid:
                    type: string
                    description: Identifier of SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    aip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    batch_identifier: abc123
                    batch_status: processing
                    batch_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    completed_at: "1970-01-01T00:00:01Z"
                    created_at: "1970-01-01T00:00:01Z"
                    failed_as: PIP
                    failed_key: abc123
                    name: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: failed
                    uploader_email: abc123
                    uploader_name: abc123
                    uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        SIPWorkflowCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestSipWorkflow'
            example:
                - completed_at: "1970-01-01T00:00:01Z"
                  sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  tasks:
                    - completed_at: "1970-01-01T00:00:01Z"
                      name: abc123
                      note: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  temporal_id: abc123
                  type: create and review aip
                  uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        SIPWorkflowCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestSipWorkflow'
                uuid:
                    type: string
                    description: Identifier of workflow
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                          workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    temporal_id: abc123
                    type: create and review aip
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        SIPWorkflowUpdatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestSipWorkflow'
                uuid:
                    type: string
                    description: Identifier of workflow
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                          workflow_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    temporal_id: abc123
                    type: create and review aip
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        StorageEvent:
            type: object
            properties:
                value:
                    example:
                        item:
                            config:
                                bucket: abc123
                                endpoint: abc123
                                key: abc123
                                path_style: false
                                profile: abc123
                                region: abc123
                                secret: abc123
                                token: abc123
                            created_at: "1970-01-01T00:00:01Z"
                            description: abc123
                            name: abc123
                            purpose: aip_store
                            source: minio
                            uuid: abc123
                        uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    anyOf:
                        - $ref: '#/components/schemas/StoragePingEvent'
                        - $ref: '#/components/schemas/LocationCreatedEvent'
                        - $ref: '#/components/schemas/AIPCreatedEvent'
                        - $ref: '#/components/schemas/AIPStatusUpdatedEvent'
                        - $ref: '#/components/schemas/AIPLocationUpdatedEvent'
                        - $ref: '#/components/schemas/AIPWorkflowCreatedEvent'
                        - $ref: '#/components/schemas/AIPWorkflowUpdatedEvent'
                        - $ref: '#/components/schemas/AIPTaskCreatedEvent'
                        - $ref: '#/components/schemas/AIPTaskUpdatedEvent'
            example:
                value:
                    item:
                        config:
                            bucket: abc123
                            endpoint: abc123
                            key: abc123
                            path_style: false
                            profile: abc123
                            region: abc123
                            secret: abc123
                            token: abc123
                        created_at: "1970-01-01T00:00:01Z"
                        description: abc123
                        name: abc123
                        purpose: aip_store
                        source: minio
                        uuid: abc123
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        StorageEvent2:
            type: object
            properties:
                value:
                    type: object
                    properties:
                        Type:
                            type: string
                            description: |-
                                Union type name, one of:
                                - "storage_ping_event"
                                - "location_created_event"
                                - "aip_created_event"
                                - "aip_status_updated_event"
                                - "aip_location_updated_event"
                                - "aip_workflow_created_event"
                                - "aip_workflow_updated_event"
                                - "aip_task_created_event"
                                - "aip_task_updated_event"
                            example: location_created_event
                            enum:
                                - storage_ping_event
                                - location_created_event
                                - aip_created_event
                                - aip_status_updated_event
                                - aip_location_updated_event
                                - aip_workflow_created_event
                                - aip_workflow_updated_event
                                - aip_task_created_event
                                - aip_task_updated_event
                        Value:
                            type: string
                            description: JSON encoded union value
                            example: '{"item":{"config":{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"},"created_at":"1970-01-01T00:00:01Z","description":"abc123","name":"abc123","purpose":"aip_store","source":"minio","uuid":"abc123"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                    example:
                        Type: location_created_event
                        Value: '{"item":{"config":{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"},"created_at":"1970-01-01T00:00:01Z","description":"abc123","name":"abc123","purpose":"aip_store","source":"minio","uuid":"abc123"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                    required:
                        - Type
                        - Value
            example:
                value:
                    Type: location_created_event
                    Value: '{"item":{"config":{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"},"created_at":"1970-01-01T00:00:01Z","description":"abc123","name":"abc123","purpose":"aip_store","source":"minio","uuid":"abc123"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
        StoragePingEvent:
            type: object
            properties:
                message:
                    type: string
                    example: abc123
            example:
                message: abc123
        SubmitAIPResult:
            type: object
            properties:
                url:
                    type: string
                    example: abc123
            example:
                url: abc123
            required:
                - url
        SubmitAipRequestBody:
            type: object
            properties:
                name:
                    type: string
                    example: abc123
            example:
                name: abc123
            required:
                - name
        URLConfig:
            type: object
            properties:
                url:
                    type: string
                    example: abc123
            example:
                url: abc123
            required:
                - url
        UserCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestUser'
            example:
                - created_at: "1970-01-01T00:00:01Z"
                  email: nobody@example.com
                  name: Jane Doe
                  uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
    securitySchemes:
        jwt_header_Authorization:
            type: http
            description: Secures endpoint by requiring a valid JWT token.
            scheme: bearer
tags:
    - name: about
      description: The about service provides information about the system.
    - name: ingest
      description: The ingest service manages ingested SIPs.
    - name: storage
      description: The storage service manages locations and AIPs.
security:
    - jwt_header_: []
