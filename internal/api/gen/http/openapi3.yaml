openapi: 3.0.3
info:
    title: Enduro API
    version: 0.0.1
servers:
    - url: http://localhost:9000
paths:
    /about:
        get:
            tags:
                - about
            summary: about about
            description: Get information about the system
            operationId: about#about
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroAbout'
                            example:
                                poststorage:
                                    - task_queue: abc123
                                      workflow_name: abc123
                                preprocessing:
                                    enabled: false
                                    task_queue: abc123
                                    workflow_name: abc123
                                preservation_system: abc123
                                upload_max_size: 1
                                version: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization: []
    /ingest/monitor:
        get:
            tags:
                - ingest
            summary: monitor ingest
            description: Obtain access to the /monitor WebSocket
            operationId: ingest#monitor
            parameters:
                - name: enduro-ws-ticket
                  in: cookie
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
            responses:
                "101":
                    description: Switching Protocols response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MonitorEvent'
                            example:
                                event:
                                    Type: sip_created_event
                                    Value: '{"item":{"aip_id":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","completed_at":"1970-01-01T00:00:01Z","created_at":"1970-01-01T00:00:01Z","failed_as":"PIP","failed_key":"abc123","name":"abc123","started_at":"1970-01-01T00:00:01Z","status":"failed","uploader_email":"abc123","uploader_name":"abc123","uploader_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'not_available: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
        post:
            tags:
                - ingest
            summary: monitor_request ingest
            description: Request access to the /monitor WebSocket
            operationId: ingest#monitor_request
            responses:
                "200":
                    description: OK response.
                    headers:
                        Set-Cookie:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'not_available: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:download
                    - ingest:sips:list
                    - ingest:sips:read
                    - ingest:sips:review
                    - ingest:sips:upload
                    - ingest:sips:workflows:list
                    - ingest:users:list
    /ingest/sips:
        get:
            tags:
                - ingest
            summary: list_sips ingest
            description: List all ingested SIPs
            operationId: ingest#list_sips
            parameters:
                - name: name
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
                - name: aip_id
                  in: query
                  description: Identifier of AIP
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: earliest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: latest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: failed
                    enum:
                        - error
                        - failed
                        - queued
                        - processing
                        - pending
                        - ingested
                  example: failed
                - name: uploader_id
                  in: query
                  description: UUID of the SIP uploader
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: UUID of the SIP uploader
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: limit
                  in: query
                  description: Limit number of results to return
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Limit number of results to return
                    example: 1
                    format: int64
                  example: 1
                - name: offset
                  in: query
                  description: Offset from the beginning of the found set
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Offset from the beginning of the found set
                    example: 1
                    format: int64
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPs'
                            example:
                                items:
                                    - aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      completed_at: "1970-01-01T00:00:01Z"
                                      created_at: "1970-01-01T00:00:01Z"
                                      failed_as: PIP
                                      failed_key: abc123
                                      name: abc123
                                      started_at: "1970-01-01T00:00:01Z"
                                      status: failed
                                      uploader_email: abc123
                                      uploader_name: abc123
                                      uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                page:
                                    limit: 1
                                    offset: 1
                                    total: 1
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - ingest:sips:list
    /ingest/sips/{uuid}:
        get:
            tags:
                - ingest
            summary: show_sip ingest
            description: Show SIP by ID
            operationId: ingest#show_sip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of SIP to show
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP to show
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroIngestSip'
                            example:
                                aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                completed_at: "1970-01-01T00:00:01Z"
                                created_at: "1970-01-01T00:00:01Z"
                                failed_as: PIP
                                failed_key: abc123
                                name: abc123
                                started_at: "1970-01-01T00:00:01Z"
                                status: failed
                                uploader_email: abc123
                                uploader_name: abc123
                                uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:read
    /ingest/sips/{uuid}/confirm:
        post:
            tags:
                - ingest
            summary: confirm_sip ingest
            description: Signal the SIP has been reviewed and accepted
            operationId: ingest#confirm_sip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of SIP to look up
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP to look up
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ConfirmSipRequestBody'
                        example:
                            location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:review
    /ingest/sips/{uuid}/download:
        get:
            tags:
                - ingest
            summary: download_sip ingest
            description: Download the failed package related to a SIP. It will be the original SIP or the transformed PIP, based on the SIP's `failed_as` value.
            operationId: ingest#download_sip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of the SIP to download
                  required: true
                  schema:
                    type: string
                    description: Identifier of the SIP to download
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: enduro-sip-download-ticket
                  in: cookie
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
            responses:
                "200":
                    description: OK response.
                    headers:
                        Content-Disposition:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                        Content-Length:
                            schema:
                                type: integer
                                example: 1
                                format: int64
                            example: 1
                        Content-Type:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                    content:
                        application/json:
                            schema:
                                type: string
                                format: binary
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
        post:
            tags:
                - ingest
            summary: download_sip_request ingest
            description: Request access to SIP download
            operationId: ingest#download_sip_request
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of the SIP to download
                  required: true
                  schema:
                    type: string
                    description: Identifier of the SIP to download
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    headers:
                        Set-Cookie:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:download
    /ingest/sips/{uuid}/reject:
        post:
            tags:
                - ingest
            summary: reject_sip ingest
            description: Signal the SIP has been reviewed and rejected
            operationId: ingest#reject_sip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of SIP to look up
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP to look up
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:review
    /ingest/sips/{uuid}/workflows:
        get:
            tags:
                - ingest
            summary: list_sip_workflows ingest
            description: List all workflows for a SIP
            operationId: ingest#list_sip_workflows
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of SIP to look up
                  required: true
                  schema:
                    type: string
                    description: Identifier of SIP to look up
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPWorkflows'
                            example:
                                workflows:
                                    - completed_at: "1970-01-01T00:00:01Z"
                                      id: 1
                                      sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      started_at: "1970-01-01T00:00:01Z"
                                      status: in progress
                                      tasks:
                                        - completed_at: "1970-01-01T00:00:01Z"
                                          id: 1
                                          name: abc123
                                          note: abc123
                                          started_at: "1970-01-01T00:00:01Z"
                                          status: in progress
                                          task_id: abc123
                                          workflow_id: 1
                                      temporal_id: abc123
                                      type: create and review aip
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: SIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            security:
                - jwt_header_Authorization:
                    - ingest:sips:workflows:list
    /ingest/sips/upload:
        post:
            tags:
                - ingest
            summary: upload_sip ingest
            description: Upload a SIP to trigger an ingest workflow
            operationId: ingest#upload_sip
            parameters:
                - name: Content-Type
                  in: header
                  description: Content-Type header, must define value for multipart boundary.
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Content-Type header, must define value for multipart boundary.
                    default: multipart/form-data; boundary=goa
                    example: multipart/form-data; boundary=goa
                    pattern: multipart/[^;]+; boundary=.+
                  example: multipart/form-data; boundary=goa
            responses:
                "202":
                    description: Accepted response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UploadSipResponseBody'
                            example:
                                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "400":
                    description: 'invalid_multipart_request: Error returned when the request body is not a valid multipart content.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "500":
                    description: 'internal_error: Fault while processing upload.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - ingest:sips:upload
    /ingest/users:
        get:
            tags:
                - ingest
            summary: list_users ingest
            description: List all users
            operationId: ingest#list_users
            parameters:
                - name: email
                  in: query
                  description: Email of the user
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Email of the user
                    example: nobody@example.com
                  example: nobody@example.com
                - name: name
                  in: query
                  description: Name of the user
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Name of the user
                    example: Jane Doe
                  example: Jane Doe
                - name: limit
                  in: query
                  description: Limit number of results to return
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Limit number of results to return
                    example: 1
                    format: int64
                  example: 1
                - name: offset
                  in: query
                  description: Offset from the beginning of the found set
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Offset from the beginning of the found set
                    example: 1
                    format: int64
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Users'
                            example:
                                items:
                                    - created_at: "1970-01-01T00:00:01Z"
                                      email: nobody@example.com
                                      name: Jane Doe
                                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                page:
                                    limit: 1
                                    offset: 1
                                    total: 1
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - ingest:users:list
    /storage/aips:
        get:
            tags:
                - storage
            summary: list_aips storage
            description: List all AIPs
            operationId: storage#list_aips
            parameters:
                - name: name
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
                - name: earliest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: latest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                  example: "1970-01-01T00:00:01Z"
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                  example: stored
                - name: limit
                  in: query
                  description: Limit number of results to return
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Limit number of results to return
                    example: 1
                    format: int64
                  example: 1
                - name: offset
                  in: query
                  description: Offset from the beginning of the found set
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Offset from the beginning of the found set
                    example: 1
                    format: int64
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPs'
                            example:
                                items:
                                    - created_at: "1970-01-01T00:00:01Z"
                                      location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      name: abc123
                                      object_key: abc123
                                      status: stored
                                      uuid: abc123
                                page:
                                    limit: 1
                                    offset: 1
                                    total: 1
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:list
        post:
            tags:
                - storage
            summary: create_aip storage
            description: Create a new AIP
            operationId: storage#create_aip
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateAipRequestBody'
                        example:
                            location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                            name: abc123
                            object_key: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                            status: stored
                            uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStorageAip'
                            example:
                                created_at: "1970-01-01T00:00:01Z"
                                location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                name: abc123
                                object_key: abc123
                                status: stored
                                uuid: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:create
    /storage/aips/{uuid}:
        get:
            tags:
                - storage
            summary: show_aip storage
            description: Show AIP by AIPID
            operationId: storage#show_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStorageAip'
                            example:
                                created_at: "1970-01-01T00:00:01Z"
                                location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                name: abc123
                                object_key: abc123
                                status: stored
                                uuid: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:read
    /storage/aips/{uuid}/deletion-cancel:
        post:
            tags:
                - storage
            summary: cancel_aip_deletion storage
            description: Cancel an AIP deletion request
            operationId: storage#cancel_aip_deletion
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CancelAipDeletionRequestBody'
                        example:
                            check: false
            responses:
                "200":
                    description: OK response.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:deletion:request
    /storage/aips/{uuid}/deletion-request:
        post:
            tags:
                - storage
            summary: request_aip_deletion storage
            description: Request an AIP deletion
            operationId: storage#request_aip_deletion
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/RequestAipDeletionRequestBody'
                        example:
                            reason: abc123
            responses:
                "200":
                    description: OK response.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:deletion:request
    /storage/aips/{uuid}/deletion-review:
        post:
            tags:
                - storage
            summary: review_aip_deletion storage
            description: Review an AIP deletion request
            operationId: storage#review_aip_deletion
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ReviewAipDeletionRequestBody'
                        example:
                            approved: false
            responses:
                "200":
                    description: OK response.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:deletion:review
    /storage/aips/{uuid}/download:
        get:
            tags:
                - storage
            summary: download_aip storage
            description: Download AIP by AIPID
            operationId: storage#download_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of the AIP to download
                  required: true
                  schema:
                    type: string
                    description: Identifier of the AIP to download
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: enduro-aip-download-ticket
                  in: cookie
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
            responses:
                "200":
                    description: OK response.
                    headers:
                        Content-Disposition:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                        Content-Length:
                            schema:
                                type: integer
                                example: 1
                                format: int64
                            example: 1
                        Content-Type:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                    content:
                        application/json:
                            schema:
                                type: string
                                format: binary
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
        post:
            tags:
                - storage
            summary: download_aip_request storage
            description: Request access to AIP download
            operationId: storage#download_aip_request
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of the AIP to download
                  required: true
                  schema:
                    type: string
                    description: Identifier of the AIP to download
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    headers:
                        Set-Cookie:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "500":
                    description: 'internal_error: Internal Server Error response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:download
    /storage/aips/{uuid}/reject:
        post:
            tags:
                - storage
            summary: reject_aip storage
            description: Reject an AIP
            operationId: storage#reject_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:review
    /storage/aips/{uuid}/store:
        get:
            tags:
                - storage
            summary: move_aip_status storage
            description: Retrieve the status of a permanent storage location move of the AIP
            operationId: storage#move_aip_status
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/MoveStatusResult'
                            example:
                                done: false
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "424":
                    description: 'failed_dependency: Failed Dependency response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:move
        post:
            tags:
                - storage
            summary: move_aip storage
            description: Move an AIP to a permanent storage location
            operationId: storage#move_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ConfirmSipRequestBody'
                        example:
                            location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:move
    /storage/aips/{uuid}/submit:
        post:
            tags:
                - storage
            summary: submit_aip storage
            description: Start the submission of an AIP
            operationId: storage#submit_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SubmitAipRequestBody'
                        example:
                            name: abc123
            responses:
                "202":
                    description: Accepted response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SubmitAIPResult'
                            example:
                                url: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:submit
    /storage/aips/{uuid}/update:
        post:
            tags:
                - storage
            summary: update_aip storage
            description: Signal that an AIP submission is complete
            operationId: storage#update_aip
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "202":
                    description: Accepted response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
            security:
                - jwt_header_Authorization:
                    - storage:aips:submit
    /storage/aips/{uuid}/workflows:
        get:
            tags:
                - storage
            summary: list_aip_workflows storage
            description: List workflows related to an AIP
            operationId: storage#list_aip_workflows
            parameters:
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                        - canceled
                  example: in progress
                - name: type
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: upload aip
                    enum:
                        - unspecified
                        - upload aip
                        - move aip
                        - delete aip
                  example: upload aip
                - name: uuid
                  in: path
                  description: Identifier of AIP
                  required: true
                  schema:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPWorkflows'
                            example:
                                workflows:
                                    - completed_at: "1970-01-01T00:00:01Z"
                                      started_at: "1970-01-01T00:00:01Z"
                                      status: in progress
                                      tasks:
                                        - completed_at: "1970-01-01T00:00:01Z"
                                          name: abc123
                                          note: abc123
                                          started_at: "1970-01-01T00:00:01Z"
                                          status: in progress
                                          uuid: abc123
                                      temporal_id: abc123
                                      type: upload aip
                                      uuid: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: AIP not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:aips:workflows:list
    /storage/locations:
        get:
            tags:
                - storage
            summary: list_locations storage
            description: List locations
            operationId: storage#list_locations
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/LocationResponseCollection'
                            example:
                                - created_at: "1970-01-01T00:00:01Z"
                                  description: abc123
                                  name: abc123
                                  purpose: aip_store
                                  source: minio
                                  uuid: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - storage:locations:list
        post:
            tags:
                - storage
            summary: create_location storage
            description: Create a storage location
            operationId: storage#create_location
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/CreateLocationRequestBody'
                        example:
                            config:
                                Type: s3
                                Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                            description: abc123
                            name: abc123
                            purpose: aip_store
                            source: minio
            responses:
                "201":
                    description: Created response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UploadSipResponseBody'
                            example:
                                uuid: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
            security:
                - jwt_header_Authorization:
                    - storage:locations:create
    /storage/locations/{uuid}:
        get:
            tags:
                - storage
            summary: show_location storage
            description: Show location by UUID
            operationId: storage#show_location
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of location
                  required: true
                  schema:
                    type: string
                    description: Identifier of location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Location'
                            example:
                                config:
                                    Type: s3
                                    Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                                created_at: "1970-01-01T00:00:01Z"
                                description: abc123
                                name: abc123
                                purpose: aip_store
                                source: minio
                                uuid: abc123
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: Storage location not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:locations:read
    /storage/locations/{uuid}/aips:
        get:
            tags:
                - storage
            summary: list_location_aips storage
            description: List all the AIPs stored in the location with UUID
            operationId: storage#list_location_aips
            parameters:
                - name: uuid
                  in: path
                  description: Identifier of location
                  required: true
                  schema:
                    type: string
                    description: Identifier of location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AIPResponseCollection'
                            example:
                                - created_at: "1970-01-01T00:00:01Z"
                                  location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                  name: abc123
                                  object_key: abc123
                                  status: stored
                                  uuid: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "403":
                    description: 'forbidden: Forbidden response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                "404":
                    description: 'not_found: Storage location not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SIPNotFound'
                            example:
                                message: abc123
                                uuid: abc123
            security:
                - jwt_header_Authorization:
                    - storage:locations:aips:list
components:
    schemas:
        AIPCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroStorageAip'
            example:
                - created_at: "1970-01-01T00:00:01Z"
                  location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  name: abc123
                  object_key: abc123
                  status: stored
                  uuid: abc123
        AIPResponse:
            type: object
            properties:
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                location_id:
                    type: string
                    description: Identifier of storage location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name:
                    type: string
                    example: abc123
                object_key:
                    type: string
                    example: abc123
                status:
                    type: string
                    description: Status of the AIP
                    default: unspecified
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                uuid:
                    type: string
                    example: abc123
            description: An AIP describes an AIP retrieved by the storage service. (default view)
            example:
                created_at: "1970-01-01T00:00:01Z"
                location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name: abc123
                object_key: abc123
                status: stored
                uuid: abc123
            required:
                - name
                - uuid
                - status
                - object_key
                - created_at
        AIPResponseCollection:
            type: array
            items:
                $ref: '#/components/schemas/AIPResponse'
            description: list_location_aips_response_body is the result type for an array of AIPResponse (default view)
            example:
                - created_at: "1970-01-01T00:00:01Z"
                  location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  name: abc123
                  object_key: abc123
                  status: stored
                  uuid: abc123
        AIPTaskCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroStorageAipTask'
            example:
                - completed_at: "1970-01-01T00:00:01Z"
                  name: abc123
                  note: abc123
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  uuid: abc123
        AIPWorkflowCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroStorageAipWorkflow'
            example:
                - completed_at: "1970-01-01T00:00:01Z"
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  tasks:
                    - completed_at: "1970-01-01T00:00:01Z"
                      name: abc123
                      note: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      uuid: abc123
                  temporal_id: abc123
                  type: upload aip
                  uuid: abc123
        AIPWorkflows:
            type: object
            properties:
                workflows:
                    $ref: '#/components/schemas/AIPWorkflowCollection'
            example:
                workflows:
                    - completed_at: "1970-01-01T00:00:01Z"
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          uuid: abc123
                      temporal_id: abc123
                      type: upload aip
                      uuid: abc123
        AIPs:
            type: object
            properties:
                items:
                    $ref: '#/components/schemas/AIPCollection'
                page:
                    $ref: '#/components/schemas/EnduroPage'
            example:
                items:
                    - created_at: "1970-01-01T00:00:01Z"
                      location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      name: abc123
                      object_key: abc123
                      status: stored
                      uuid: abc123
                page:
                    limit: 1
                    offset: 1
                    total: 1
            required:
                - items
                - page
        CancelAipDeletionRequestBody:
            type: object
            properties:
                check:
                    type: boolean
                    description: If check is true, check user authorization to cancel deletion but don't execute the cancellation.
                    example: false
            example:
                check: false
        ConfirmSipRequestBody:
            type: object
            properties:
                location_id:
                    type: string
                    description: Identifier of storage location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - location_id
        CreateAipRequestBody:
            type: object
            properties:
                location_id:
                    type: string
                    description: Identifier of the AIP's storage location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name:
                    type: string
                    description: Name of the AIP
                    example: abc123
                object_key:
                    type: string
                    description: ObjectKey of the AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                status:
                    type: string
                    description: Status of the the AIP
                    default: unspecified
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                uuid:
                    type: string
                    description: Identifier of the AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            example:
                location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name: abc123
                object_key: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                status: stored
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - name
                - object_key
        CreateLocationRequestBody:
            type: object
            properties:
                config:
                    type: object
                    properties:
                        Type:
                            type: string
                            description: |-
                                Union type name, one of:
                                - "amss"
                                - "s3"
                                - "sftp"
                                - "url"
                            example: s3
                            enum:
                                - amss
                                - s3
                                - sftp
                                - url
                        Value:
                            type: string
                            description: JSON encoded union value
                            example: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                    example:
                        Type: s3
                        Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                    required:
                        - Type
                        - Value
                description:
                    type: string
                    example: abc123
                name:
                    type: string
                    example: abc123
                purpose:
                    type: string
                    example: aip_store
                    enum:
                        - unspecified
                        - aip_store
                source:
                    type: string
                    example: minio
                    enum:
                        - unspecified
                        - minio
                        - sftp
                        - amss
            example:
                config:
                    Type: s3
                    Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                description: abc123
                name: abc123
                purpose: aip_store
                source: minio
            required:
                - name
                - source
                - purpose
        EnduroAbout:
            type: object
            properties:
                poststorage:
                    $ref: '#/components/schemas/EnduroPoststorageCollection'
                preprocessing:
                    $ref: '#/components/schemas/EnduroPreprocessing'
                preservation_system:
                    type: string
                    example: abc123
                upload_max_size:
                    type: integer
                    example: 1
                    format: int64
                version:
                    type: string
                    example: abc123
            example:
                poststorage:
                    - task_queue: abc123
                      workflow_name: abc123
                preprocessing:
                    enabled: false
                    task_queue: abc123
                    workflow_name: abc123
                preservation_system: abc123
                upload_max_size: 1
                version: abc123
            required:
                - version
                - preservation_system
                - preprocessing
                - upload_max_size
        EnduroIngestSip:
            type: object
            properties:
                aip_id:
                    type: string
                    description: Identifier of AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                completed_at:
                    type: string
                    description: Completion datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                failed_as:
                    type: string
                    description: Package type in case of failure (SIP or PIP)
                    example: PIP
                    enum:
                        - SIP
                        - PIP
                failed_key:
                    type: string
                    description: Object key of the failed package in the internal bucket
                    example: abc123
                name:
                    type: string
                    description: Name of the SIP
                    example: abc123
                started_at:
                    type: string
                    description: Start datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    description: Status of the SIP
                    example: failed
                    enum:
                        - error
                        - failed
                        - queued
                        - processing
                        - pending
                        - ingested
                uploader_email:
                    type: string
                    description: Email of the user who uploaded the SIP
                    example: abc123
                uploader_name:
                    type: string
                    description: Name of the user who uploaded the SIP
                    example: abc123
                uploader_uuid:
                    type: string
                    description: UUID of the user who uploaded the SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid:
                    type: string
                    description: Identifier of SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            description: SIP describes an ingest SIP type.
            example:
                aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                completed_at: "1970-01-01T00:00:01Z"
                created_at: "1970-01-01T00:00:01Z"
                failed_as: PIP
                failed_key: abc123
                name: abc123
                started_at: "1970-01-01T00:00:01Z"
                status: failed
                uploader_email: abc123
                uploader_name: abc123
                uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - status
                - created_at
        EnduroIngestSipTask:
            type: object
            properties:
                completed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                id:
                    type: integer
                    example: 1
                    format: int64
                name:
                    type: string
                    example: abc123
                note:
                    type: string
                    example: abc123
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                        - failed
                task_id:
                    type: string
                    example: abc123
                workflow_id:
                    type: integer
                    example: 1
                    format: int64
            description: SIPTask describes a SIP workflow task.
            example:
                completed_at: "1970-01-01T00:00:01Z"
                id: 1
                name: abc123
                note: abc123
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                task_id: abc123
                workflow_id: 1
            required:
                - id
                - task_id
                - name
                - status
                - started_at
        EnduroIngestSipWorkflow:
            type: object
            properties:
                completed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                id:
                    type: integer
                    example: 1
                    format: int64
                sip_uuid:
                    type: string
                    description: Identifier of related SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                        - failed
                tasks:
                    $ref: '#/components/schemas/SIPTaskCollection'
                temporal_id:
                    type: string
                    example: abc123
                type:
                    type: string
                    example: create and review aip
                    enum:
                        - create aip
                        - create and review aip
            description: SIPWorkflow describes a workflow of a SIP.
            example:
                completed_at: "1970-01-01T00:00:01Z"
                id: 1
                sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                tasks:
                    - completed_at: "1970-01-01T00:00:01Z"
                      id: 1
                      name: abc123
                      note: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      task_id: abc123
                      workflow_id: 1
                temporal_id: abc123
                type: create and review aip
            required:
                - id
                - temporal_id
                - type
                - status
                - started_at
                - sip_uuid
        EnduroIngestUser:
            type: object
            properties:
                created_at:
                    type: string
                    description: Creation date & time of the user
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                email:
                    type: string
                    description: Email of the user
                    example: nobody@example.com
                name:
                    type: string
                    description: Name of the user
                    example: Jane Doe
                uuid:
                    type: string
                    description: Identifier of the user
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            description: User describes an Enduro user.
            example:
                created_at: "1970-01-01T00:00:01Z"
                email: nobody@example.com
                name: Jane Doe
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - email
                - name
                - created_at
        EnduroPage:
            type: object
            properties:
                limit:
                    type: integer
                    description: Maximum items per page
                    example: 1
                    format: int64
                offset:
                    type: integer
                    description: Offset from first result to start of page
                    example: 1
                    format: int64
                total:
                    type: integer
                    description: Total result count before paging
                    example: 1
                    format: int64
            description: Page represents a subset of search results.
            example:
                limit: 1
                offset: 1
                total: 1
            required:
                - limit
                - offset
                - total
        EnduroPoststorage:
            type: object
            properties:
                task_queue:
                    type: string
                    example: abc123
                workflow_name:
                    type: string
                    example: abc123
            example:
                task_queue: abc123
                workflow_name: abc123
            required:
                - workflow_name
                - task_queue
        EnduroPoststorageCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroPoststorage'
            example:
                - task_queue: abc123
                  workflow_name: abc123
        EnduroPreprocessing:
            type: object
            properties:
                enabled:
                    type: boolean
                    example: false
                task_queue:
                    type: string
                    example: abc123
                workflow_name:
                    type: string
                    example: abc123
            example:
                enabled: false
                task_queue: abc123
                workflow_name: abc123
            required:
                - enabled
                - workflow_name
                - task_queue
        EnduroStorageAip:
            type: object
            properties:
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                location_id:
                    type: string
                    description: Identifier of storage location
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name:
                    type: string
                    example: abc123
                object_key:
                    type: string
                    example: abc123
                status:
                    type: string
                    description: Status of the AIP
                    default: unspecified
                    example: stored
                    enum:
                        - unspecified
                        - stored
                        - pending
                        - processing
                        - deleted
                        - queued
                uuid:
                    type: string
                    example: abc123
            description: An AIP describes an AIP retrieved by the storage service.
            example:
                created_at: "1970-01-01T00:00:01Z"
                location_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name: abc123
                object_key: abc123
                status: stored
                uuid: abc123
            required:
                - name
                - uuid
                - status
                - object_key
                - created_at
        EnduroStorageAipTask:
            type: object
            properties:
                completed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                name:
                    type: string
                    example: abc123
                note:
                    type: string
                    example: abc123
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                uuid:
                    type: string
                    example: abc123
            description: AIPTask describes an AIP workflow task.
            example:
                completed_at: "1970-01-01T00:00:01Z"
                name: abc123
                note: abc123
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                uuid: abc123
            required:
                - uuid
                - name
                - status
        EnduroStorageAipWorkflow:
            type: object
            properties:
                completed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: in progress
                    enum:
                        - unspecified
                        - in progress
                        - done
                        - error
                        - queued
                        - pending
                        - canceled
                tasks:
                    $ref: '#/components/schemas/AIPTaskCollection'
                temporal_id:
                    type: string
                    example: abc123
                type:
                    type: string
                    example: upload aip
                    enum:
                        - unspecified
                        - upload aip
                        - move aip
                        - delete aip
                uuid:
                    type: string
                    example: abc123
            description: AIPWorkflow describes a workflow of an AIP.
            example:
                completed_at: "1970-01-01T00:00:01Z"
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                tasks:
                    - completed_at: "1970-01-01T00:00:01Z"
                      name: abc123
                      note: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      uuid: abc123
                temporal_id: abc123
                type: upload aip
                uuid: abc123
            required:
                - uuid
                - temporal_id
                - type
                - status
        Error:
            type: object
            properties:
                fault:
                    type: boolean
                    description: Is the error a server-side fault?
                    example: false
                id:
                    type: string
                    description: ID is a unique identifier for this particular occurrence of the problem.
                    example: 123abc
                message:
                    type: string
                    description: Message is a human-readable explanation specific to this occurrence of the problem.
                    example: parameter 'p' must be an integer
                name:
                    type: string
                    description: Name is the name of this class of errors.
                    example: bad_request
                temporary:
                    type: boolean
                    description: Is the error temporary?
                    example: false
                timeout:
                    type: boolean
                    description: Is the error a timeout?
                    example: false
            example:
                fault: false
                id: 123abc
                message: parameter 'p' must be an integer
                name: bad_request
                temporary: false
                timeout: false
            required:
                - name
                - id
                - message
                - temporary
                - timeout
                - fault
        Location:
            type: object
            properties:
                config:
                    type: object
                    properties:
                        Type:
                            type: string
                            description: |-
                                Union type name, one of:
                                - "amss"
                                - "s3"
                                - "sftp"
                                - "url"
                            example: s3
                            enum:
                                - amss
                                - s3
                                - sftp
                                - url
                        Value:
                            type: string
                            description: JSON encoded union value
                            example: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                    example:
                        Type: s3
                        Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                    required:
                        - Type
                        - Value
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                description:
                    type: string
                    description: Description of the location
                    example: abc123
                name:
                    type: string
                    description: Name of location
                    example: abc123
                purpose:
                    type: string
                    description: Purpose of the location
                    default: unspecified
                    example: aip_store
                    enum:
                        - unspecified
                        - aip_store
                source:
                    type: string
                    description: Data source of the location
                    default: unspecified
                    example: minio
                    enum:
                        - unspecified
                        - minio
                        - sftp
                        - amss
                uuid:
                    type: string
                    example: abc123
            example:
                config:
                    Type: s3
                    Value: '{"bucket":"abc123","endpoint":"abc123","key":"abc123","path_style":false,"profile":"abc123","region":"abc123","secret":"abc123","token":"abc123"}'
                created_at: "1970-01-01T00:00:01Z"
                description: abc123
                name: abc123
                purpose: aip_store
                source: minio
                uuid: abc123
            required:
                - name
                - source
                - purpose
                - uuid
                - created_at
        LocationResponse:
            type: object
            properties:
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                description:
                    type: string
                    description: Description of the location
                    example: abc123
                name:
                    type: string
                    description: Name of location
                    example: abc123
                purpose:
                    type: string
                    description: Purpose of the location
                    default: unspecified
                    example: aip_store
                    enum:
                        - unspecified
                        - aip_store
                source:
                    type: string
                    description: Data source of the location
                    default: unspecified
                    example: minio
                    enum:
                        - unspecified
                        - minio
                        - sftp
                        - amss
                uuid:
                    type: string
                    example: abc123
            description: A Location describes a location retrieved by the storage service. (default view)
            example:
                created_at: "1970-01-01T00:00:01Z"
                description: abc123
                name: abc123
                purpose: aip_store
                source: minio
                uuid: abc123
            required:
                - name
                - source
                - purpose
                - uuid
                - created_at
        LocationResponseCollection:
            type: array
            items:
                $ref: '#/components/schemas/LocationResponse'
            description: list_locations_response_body is the result type for an array of LocationResponse (default view)
            example:
                - created_at: "1970-01-01T00:00:01Z"
                  description: abc123
                  name: abc123
                  purpose: aip_store
                  source: minio
                  uuid: abc123
        MonitorEvent:
            type: object
            properties:
                event:
                    type: object
                    properties:
                        Type:
                            type: string
                            description: |-
                                Union type name, one of:
                                - "monitor_ping_event"
                                - "sip_created_event"
                                - "sip_updated_event"
                                - "sip_status_updated_event"
                                - "sip_workflow_created_event"
                                - "sip_workflow_updated_event"
                                - "sip_task_created_event"
                                - "sip_task_updated_event"
                            example: sip_created_event
                            enum:
                                - monitor_ping_event
                                - sip_created_event
                                - sip_updated_event
                                - sip_status_updated_event
                                - sip_workflow_created_event
                                - sip_workflow_updated_event
                                - sip_task_created_event
                                - sip_task_updated_event
                        Value:
                            type: string
                            description: JSON encoded union value
                            example: '{"item":{"aip_id":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","completed_at":"1970-01-01T00:00:01Z","created_at":"1970-01-01T00:00:01Z","failed_as":"PIP","failed_key":"abc123","name":"abc123","started_at":"1970-01-01T00:00:01Z","status":"failed","uploader_email":"abc123","uploader_name":"abc123","uploader_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                    example:
                        Type: sip_created_event
                        Value: '{"item":{"aip_id":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","completed_at":"1970-01-01T00:00:01Z","created_at":"1970-01-01T00:00:01Z","failed_as":"PIP","failed_key":"abc123","name":"abc123","started_at":"1970-01-01T00:00:01Z","status":"failed","uploader_email":"abc123","uploader_name":"abc123","uploader_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
                    required:
                        - Type
                        - Value
            example:
                event:
                    Type: sip_created_event
                    Value: '{"item":{"aip_id":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","completed_at":"1970-01-01T00:00:01Z","created_at":"1970-01-01T00:00:01Z","failed_as":"PIP","failed_key":"abc123","name":"abc123","started_at":"1970-01-01T00:00:01Z","status":"failed","uploader_email":"abc123","uploader_name":"abc123","uploader_uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5","uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"},"uuid":"d1845cb6-a5ea-474a-9ab8-26f9bcd919f5"}'
        MonitorPingEvent:
            type: object
            properties:
                message:
                    type: string
                    example: abc123
            example:
                message: abc123
        MoveStatusResult:
            type: object
            properties:
                done:
                    type: boolean
                    example: false
            example:
                done: false
            required:
                - done
        RequestAipDeletionRequestBody:
            type: object
            properties:
                reason:
                    type: string
                    example: abc123
            example:
                reason: abc123
            required:
                - reason
        ReviewAipDeletionRequestBody:
            type: object
            properties:
                approved:
                    type: boolean
                    example: false
            example:
                approved: false
            required:
                - approved
        SIPCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestSip'
            example:
                - aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  completed_at: "1970-01-01T00:00:01Z"
                  created_at: "1970-01-01T00:00:01Z"
                  failed_as: PIP
                  failed_key: abc123
                  name: abc123
                  started_at: "1970-01-01T00:00:01Z"
                  status: failed
                  uploader_email: abc123
                  uploader_name: abc123
                  uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        SIPCreatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestSip'
                uuid:
                    type: string
                    description: Identifier of SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    completed_at: "1970-01-01T00:00:01Z"
                    created_at: "1970-01-01T00:00:01Z"
                    failed_as: PIP
                    failed_key: abc123
                    name: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: failed
                    uploader_email: abc123
                    uploader_name: abc123
                    uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        SIPNotFound:
            type: object
            properties:
                message:
                    type: string
                    description: Message of error
                    example: abc123
                uuid:
                    type: string
                    description: Identifier of missing SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            description: SIP not found
            example:
                message: abc123
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - message
                - uuid
        SIPStatusUpdatedEvent:
            type: object
            properties:
                status:
                    type: string
                    example: failed
                    enum:
                        - error
                        - failed
                        - queued
                        - processing
                        - pending
                        - ingested
                uuid:
                    type: string
                    description: Identifier of SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                status: failed
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - status
        SIPTaskCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestSipTask'
            example:
                - completed_at: "1970-01-01T00:00:01Z"
                  id: 1
                  name: abc123
                  note: abc123
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  task_id: abc123
                  workflow_id: 1
        SIPTaskCreatedEvent:
            type: object
            properties:
                id:
                    type: integer
                    description: Identifier of task
                    example: 1
                    format: int64
                item:
                    $ref: '#/components/schemas/EnduroIngestSipTask'
            example:
                id: 1
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    id: 1
                    name: abc123
                    note: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    task_id: abc123
                    workflow_id: 1
            required:
                - id
                - item
        SIPTaskUpdatedEvent:
            type: object
            properties:
                id:
                    type: integer
                    description: Identifier of task
                    example: 1
                    format: int64
                item:
                    $ref: '#/components/schemas/EnduroIngestSipTask'
            example:
                id: 1
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    id: 1
                    name: abc123
                    note: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    task_id: abc123
                    workflow_id: 1
            required:
                - id
                - item
        SIPUpdatedEvent:
            type: object
            properties:
                item:
                    $ref: '#/components/schemas/EnduroIngestSip'
                uuid:
                    type: string
                    description: Identifier of SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            example:
                item:
                    aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    completed_at: "1970-01-01T00:00:01Z"
                    created_at: "1970-01-01T00:00:01Z"
                    failed_as: PIP
                    failed_key: abc123
                    name: abc123
                    started_at: "1970-01-01T00:00:01Z"
                    status: failed
                    uploader_email: abc123
                    uploader_name: abc123
                    uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
                - item
        SIPWorkflowCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestSipWorkflow'
            example:
                - completed_at: "1970-01-01T00:00:01Z"
                  id: 1
                  sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  tasks:
                    - completed_at: "1970-01-01T00:00:01Z"
                      id: 1
                      name: abc123
                      note: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      task_id: abc123
                      workflow_id: 1
                  temporal_id: abc123
                  type: create and review aip
        SIPWorkflowCreatedEvent:
            type: object
            properties:
                id:
                    type: integer
                    description: Identifier of workflow
                    example: 1
                    format: int64
                item:
                    $ref: '#/components/schemas/EnduroIngestSipWorkflow'
            example:
                id: 1
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    id: 1
                    sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          id: 1
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          task_id: abc123
                          workflow_id: 1
                    temporal_id: abc123
                    type: create and review aip
            required:
                - id
                - item
        SIPWorkflowUpdatedEvent:
            type: object
            properties:
                id:
                    type: integer
                    description: Identifier of workflow
                    example: 1
                    format: int64
                item:
                    $ref: '#/components/schemas/EnduroIngestSipWorkflow'
            example:
                id: 1
                item:
                    completed_at: "1970-01-01T00:00:01Z"
                    id: 1
                    sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          id: 1
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          task_id: abc123
                          workflow_id: 1
                    temporal_id: abc123
                    type: create and review aip
            required:
                - id
                - item
        SIPWorkflows:
            type: object
            properties:
                workflows:
                    $ref: '#/components/schemas/SIPWorkflowCollection'
            example:
                workflows:
                    - completed_at: "1970-01-01T00:00:01Z"
                      id: 1
                      sip_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      tasks:
                        - completed_at: "1970-01-01T00:00:01Z"
                          id: 1
                          name: abc123
                          note: abc123
                          started_at: "1970-01-01T00:00:01Z"
                          status: in progress
                          task_id: abc123
                          workflow_id: 1
                      temporal_id: abc123
                      type: create and review aip
        SIPs:
            type: object
            properties:
                items:
                    $ref: '#/components/schemas/SIPCollection'
                page:
                    $ref: '#/components/schemas/EnduroPage'
            example:
                items:
                    - aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      completed_at: "1970-01-01T00:00:01Z"
                      created_at: "1970-01-01T00:00:01Z"
                      failed_as: PIP
                      failed_key: abc123
                      name: abc123
                      started_at: "1970-01-01T00:00:01Z"
                      status: failed
                      uploader_email: abc123
                      uploader_name: abc123
                      uploader_uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                page:
                    limit: 1
                    offset: 1
                    total: 1
            required:
                - items
                - page
        SubmitAIPResult:
            type: object
            properties:
                url:
                    type: string
                    example: abc123
            example:
                url: abc123
            required:
                - url
        SubmitAipRequestBody:
            type: object
            properties:
                name:
                    type: string
                    example: abc123
            example:
                name: abc123
            required:
                - name
        UploadSipResponseBody:
            type: object
            properties:
                uuid:
                    type: string
                    description: Identifier of uploaded SIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            example:
                uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - uuid
        UserCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroIngestUser'
            example:
                - created_at: "1970-01-01T00:00:01Z"
                  email: nobody@example.com
                  name: Jane Doe
                  uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        Users:
            type: object
            properties:
                items:
                    $ref: '#/components/schemas/UserCollection'
                page:
                    $ref: '#/components/schemas/EnduroPage'
            example:
                items:
                    - created_at: "1970-01-01T00:00:01Z"
                      email: nobody@example.com
                      name: Jane Doe
                      uuid: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                page:
                    limit: 1
                    offset: 1
                    total: 1
            required:
                - items
                - page
    securitySchemes:
        jwt_header_Authorization:
            type: http
            description: Secures endpoint by requiring a valid JWT token.
            scheme: bearer
tags:
    - name: about
      description: The about service provides information about the system.
    - name: ingest
      description: The ingest service manages ingested SIPs.
    - name: storage
      description: The storage service manages locations and AIPs.
security:
    - jwt_header_: []
